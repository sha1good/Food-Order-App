{"version":3,"sources":["components/Cart/Checkout.module.css","components/Cart/Cart.module.css","components/Cart/CartItem.module.css","components/Layout/HeaderCartButton.module.css","components/UI/ErrorModal.module.css","components/UI/SuccessFulModal.module.css","components/UI/Modal.module.css","components/Meals/MealItems/MealsItem.module.css","components/Meals/AvailableMeals.module.css","components/Profile/ProfileForm.module.css","components/Layout/Header.module.css","components/Meals/MealSummary.module.css","components/UI/Input.module.css","components/Meals/MealItems/MealItemForm.module.css","components/UI/Card.module.css","components/Layout/NavBar.module.css","components/Layout/AuthLogin.module.css","components/Layout/AuthLogout.module.css","components/Layout/MainNavigation.module.css","components/StartingPage/StartingPage.module.css","components/UI/Button.module.css","components/Profile/Userprofile.module.css","store/auth-context.js","components/UI/Modal.js","store/CartContext.js","components/Cart/CartItem.js","components/Cart/Checkout.js","components/Cart/Cart.js","Pages/CartPage.js","components/Meals/MealSummary.js","components/UI/Input.js","components/Meals/MealItems/MealItemForm.js","components/Meals/MealItems/MealsItem.js","components/UI/Card.js","components/Meals/AvailableMeals.js","components/Meals/Meals.js","Pages/MealPage.js","components/Cart/CartIcon.js","components/Layout/HeaderCartButton.js","images/meals.jpg","components/Layout/NavBar.js","components/Layout/AuthLogin.js","components/Layout/AuthLogout.js","components/Layout/Header.js","components/Layout/MainNavigation.js","components/Layout/Layout.js","components/StartingPage/StartingPage.js","Pages/HomePage.js","hooks/useAuthForm.js","components/UI/Button.js","components/UI/ErrorModal.js","components/UI/SuccessFulModal.js","components/Auth/Auth.js","Pages/AuthPage.js","components/Profile/ProfileForm.js","components/Profile/Userprofile.js","Pages/ProfilePage.js","App.js","index.js"],"names":["module","exports","logoutTimer","AuthContext","React","createContext","token","isLoggedIn","login","logout","calculateRemainingTokenTime","expirationTime","currentTime","Date","getTime","AuthContextProvider","props","initialToken","tokenData","storedToken","localStorage","getItem","storedExpirationDate","remainingTime","removeItem","duration","retrieveStoredToken","useState","setToken","userIsLoggedIn","logoutHandler","useCallback","clearTimeout","useEffect","console","log","setTimeout","contextValue","setItem","Provider","value","children","Backdrop","className","classes","backdrop","onClick","onClose","ModalOverlay","modal","content","portalElement","document","getElementById","Modal","ReactDom","createPortal","CartContext","items","totalAmount","addItem","item","id","clearCart","cartReducer","prevState","action","type","updatedItems","updatedTotalAmount","addedItem","amount","price","existingCartItemIndex","findIndex","existingCartItem","JSON","stringify","updateItem","concat","cartId","filter","updatedItem","defaultCartState","CartContextProvider","useReducer","cartState","dispatchCartState","CartItem","toFixed","name","summary","actions","onRemove","onAdd","isEmpty","trim","Checkout","street","postalCode","city","formInputsValidity","setFormInputsValidity","nameInputRef","useRef","cityInputRef","postalCodeInputRef","streetInputRef","nameControlClasses","control","invalid","cityControlClasses","postalCodeControlClasses","streetControlClasses","form","onSubmit","event","preventDefault","enteredName","current","enteredCity","enteredPostalCode","enteredStreet","enteredNameIsValid","enteredCityIsValid","enteredStreetIsValid","enteredpostalCodeIsValid","length","onConfirm","htmlFor","ref","onCancel","submit","Cart","isSubmitting","setIsSubmitting","isCheckout","setIsCheckout","didSubmit","setDidSubit","cartCtx","useContext","authCtx","hasItems","submitOrderHandler","userData","a","fetch","method","body","user","orderItems","cartItemAddHandler","removeItemHandler","cartItems","map","bind","modalActions","button","cartModalContent","total","isSubmittingOrderContent","didSubmitOrderContent","CartPage","MealSummary","Input","forwardRef","input","label","MealItemForm","amountIsValid","setAmountIsValid","amountInputRef","min","max","defaultValue","enteredAmount","enteredNumberAmount","onAddToCard","MealsItem","cartContext","meal","description","Card","card","AvailableMeals","meals","setMeals","isLoading","setIsLoading","httpError","setHttpError","fetchMeals","response","ok","Error","json","key","responseData","loadedData","push","catch","error","message","mealIsLoading","MealsError","mealList","Meals","Fragment","MealPage","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","btnIsHighlighted","setBtnIsHighlighted","numberOfCartItems","reduce","initialAmount","btnClasses","bump","timer","buttonCart","icon","badge","header","to","NavBar","AuthLogin","AuthLogout","Header","showCart","src","mealsImage","alt","MainNavigation","Layout","StartingPage","starting","HomePage","useAuthForm","validateValue","enteredvalue","setEnteredValue","isTouched","setIsTouched","enteredValueIsValid","isValid","hasError","resetForm","valueChangeHandler","target","onBlurChangeHandler","Button","ErrorModal","removeError","SuccessFulModal","removeMessage","Auth","history","useHistory","includes","enteredEmail","enteredEmailIsValid","emailHasError","resetEmailForm","emailChangeHandler","emailOnBlurHandler","enteredPassword","enteredPasswordIsValid","passwordHasError","resetPasswordForm","passwordChangeHandler","passwordOnBlurHandler","setError","setMessage","isLogin","setIsLogin","formIsValid","submitFormHandler","url","email","password","returnSecureToken","headers","data","expiresIn","idToken","toISOString","emailClasses","passwordClasses","onChange","onBlur","disabled","div","AuthPage","ProfileForm","newEmailInputRef","requestType","then","res","required","UserProfile","profile","ProfilePage","App","cartIsShown","setCartIsShown","hideCartHnadler","path","exact","ReactDOM","render"],"mappings":"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","file":"static/js/main.45f54faa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Checkout_form__1f7qo\",\"control\":\"Checkout_control__2LoS_\",\"actions\":\"Checkout_actions__1Wy3o\",\"submit\":\"Checkout_submit__RFUBu\",\"invalid\":\"Checkout_invalid__1t6XT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__3k7eH\",\"total\":\"Cart_total__2oGg0\",\"actions\":\"Cart_actions__1I7P_\",\"button--alt\":\"Cart_button--alt__2wWlZ\",\"button\":\"Cart_button__1zk_T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__z0eu2\",\"summary\":\"CartItem_summary__jUBYl\",\"price\":\"CartItem_price__d5_F3\",\"amount\":\"CartItem_amount__xyxnc\",\"actions\":\"CartItem_actions__1WzaA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__1c5-Q\",\"header\":\"HeaderCartButton_header__2AhDS\",\"icon\":\"HeaderCartButton_icon__29Uqp\",\"badge\":\"HeaderCartButton_badge__2ySo4\",\"bump\":\"HeaderCartButton_bump__3mTZ8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"ErrorModal_backdrop__d2euS\",\"modal\":\"ErrorModal_modal__2kvc4\",\"header\":\"ErrorModal_header__jxdn8\",\"content\":\"ErrorModal_content__3xiro\",\"actions\":\"ErrorModal_actions__2CzlL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"SuccessFulModal_backdrop__3ZkSg\",\"modal\":\"SuccessFulModal_modal__1xB4s\",\"header\":\"SuccessFulModal_header__uvwaR\",\"content\":\"SuccessFulModal_content__138yh\",\"actions\":\"SuccessFulModal_actions__1qnrP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2jzMJ\",\"modal\":\"Modal_modal__2-r-c\",\"slide-down\":\"Modal_slide-down__3eXE9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealsItem_meal__3mlCz\",\"description\":\"MealsItem_description__2cJ6Q\",\"price\":\"MealsItem_price__1rIVa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvailableMeals_meals__n3xut\",\"meals-appear\":\"AvailableMeals_meals-appear__2qeXC\",\"mealIsLoading\":\"AvailableMeals_mealIsLoading__3dhR0\",\"MealsError\":\"AvailableMeals_MealsError__2jEA3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ProfileForm_form__3a2Of\",\"control\":\"ProfileForm_control__3KW2M\",\"action\":\"ProfileForm_action__dhBHb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1wWXO\",\"main-image\":\"Header_main-image__3JVNK\",\"mian-image\":\"Header_mian-image__1414C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"MealSummary_summary__21DLf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__1tQFb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__2d9IF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3NHIL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"NavBar_header__1Z14w\",\"logo\":\"NavBar_logo__2IAZc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AuthLogin_header__3r3Bt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AuthLogout_header__2mY5U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainNavigation_header__5hiXt\",\"logo\":\"MainNavigation_logo__1HsZg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"starting\":\"StartingPage_starting__mrH6c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3sRwr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Userprofile_profile__OvLrO\"};","import React, { useState, useEffect, useCallback } from \"react\";\r\n\r\nlet logoutTimer;\r\nconst AuthContext = React.createContext({\r\n  token: \"\",\r\n  isLoggedIn: false,\r\n  login: (token) => {},\r\n  logout: () => {},\r\n});\r\n\r\nconst calculateRemainingTokenTime = (expirationTime) => {\r\n  const currentTime = new Date().getTime();\r\n  const futureTime = new Date(expirationTime).getTime();\r\n\r\n  const remainingTime = futureTime - currentTime;\r\n\r\n  return remainingTime;\r\n};\r\n\r\nconst retrieveStoredToken = () => {\r\n  const storedToken = localStorage.getItem(\"token\");\r\n  const storedExpirationDate = localStorage.getItem(\"expirationTime\");\r\n\r\n  const remainingTime = calculateRemainingTokenTime(storedExpirationDate);\r\n  if (remainingTime <= 60000) {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"expirationTime\");\r\n    return null;\r\n  }\r\n\r\n  return {\r\n    token: storedToken,\r\n    duration: remainingTime,\r\n  };\r\n};\r\nexport const AuthContextProvider = (props) => {\r\n  const tokenData = retrieveStoredToken();\r\n\r\n  let initialToken;\r\n\r\n  if (tokenData) {\r\n    initialToken = tokenData.token;\r\n  }\r\n\r\n  const [token, setToken] = useState(initialToken);\r\n\r\n  const userIsLoggedIn = !!token;\r\n\r\n  const logoutHandler = useCallback(() => {\r\n    setToken(null);\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"expirationTime\");\r\n    if (logoutTimer) {\r\n      clearTimeout(logoutTimer);\r\n    }\r\n  }, []);\r\n  const loingHandler = (token, expirationTime) => {\r\n    setToken(token);\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"expirationTime\", expirationTime);\r\n    const remainingTime = calculateRemainingTokenTime(expirationTime);\r\n    logoutTimer = setTimeout(logoutHandler, remainingTime);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (tokenData) {\r\n      console.log(tokenData.duration);\r\n      logoutTimer = setTimeout(logoutHandler, tokenData.duration);\r\n    }\r\n  }, [tokenData, logoutHandler]);\r\n\r\n\r\n   const contextValue ={\r\n       token : token,\r\n       isLoggedIn : userIsLoggedIn,\r\n       logout : logoutHandler,\r\n       login :  loingHandler\r\n   }\r\n\r\n  return <AuthContext.Provider value={contextValue}>{props.children}</AuthContext.Provider>;\r\n};\r\n\r\nexport default AuthContext;\r\n","import React, { Fragment } from \"react\";\r\n\r\nimport ReactDom from \"react-dom\";\r\nimport classes from \"./Modal.module.css\";\r\n\r\nconst Backdrop = (props) => {\r\n  return <div className={classes.backdrop} onClick={props.onClose} />;\r\n};\r\n\r\nconst ModalOverlay = (props) => {\r\n  return (\r\n    <div className={classes.modal}>\r\n      <div className={classes.content}>{props.children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst portalElement = document.getElementById(\"overlays\");\r\nconst Modal = (props) => {\r\n  return (\r\n    <Fragment>\r\n      {ReactDom.createPortal(\r\n        <Backdrop onClose={props.onClose} />,\r\n        portalElement\r\n      )}\r\n      {ReactDom.createPortal(\r\n        <ModalOverlay>{props.children}</ModalOverlay>,\r\n        portalElement\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useReducer } from \"react\";\r\n\r\nexport const CartContext = React.createContext({\r\n  items: [],\r\n  totalAmount: 0,\r\n  addItem: (item) => {},\r\n  removeItem: (id) => {},\r\n  clearCart  : () =>{}\r\n});\r\n\r\nconst cartReducer = (prevState, action) => {\r\n  if (action.type === \"ADD_ITEM_CART\") {\r\n    const updatedTotalAmount =\r\n      prevState.totalAmount + action.addedItem.amount * action.addedItem.price;\r\n    //Now, check if the item has been added to the cart already, then add new one to the existing one in  the aarray\r\n    const existingCartItemIndex = prevState.items.findIndex(\r\n      (item) => item.id === action.addedItem.id\r\n    );\r\n\r\n   //console.log(\"This is the index of  Existing Cart Item  \" + existingCartItemIndex);\r\n\r\n    const existingCartItem = prevState.items[existingCartItemIndex];\r\n    console.log(\"This is existingCartItem \" + JSON.stringify(existingCartItem));\r\n\r\n    let updatedItems;\r\n\r\n    //let updateItem;\r\n    //let updateItem;\r\n    //Now check if the item is part of the array, then update the existing array\r\n    if (existingCartItem) {\r\n      const updateItem = {\r\n        ...existingCartItem,\r\n        amount: existingCartItem.amount + action.addedItem.amount,\r\n      };\r\n\r\n      //Now copy the old array immutatably to create a new array without changing or editing it\r\n      updatedItems = [...prevState.items];\r\n\r\n      // Now update the old item with the new one\r\n      updatedItems[existingCartItemIndex] = updateItem;\r\n    } else {\r\n      //When adding the item for the first time into the array\r\n      // updateItem = { ...action.addedItem };\r\n      updatedItems = prevState.items.concat(action.addedItem);\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedTotalAmount,\r\n    };\r\n  }\r\n\r\n\r\n  // if (action.type === \"REMOVE_CART_ITEM\") {\r\n  //   const existingCartItemIndex = prevState.items.findIndex(\r\n  //     (item) => item.id === action.cartId\r\n  //   );\r\n  //   const existingCartItem = prevState.items[existingCartItemIndex];\r\n\r\n  //   const updatedTotalAmount = prevState.totalAmount - existingCartItem.price;\r\n\r\n  //   let updatedItems;\r\n  //   if (existingCartItem.amount === 1) {\r\n  //     //if the  remaining item in the cart is 1, we  want to delete the whole cart of that type\r\n  //     updatedItems = prevState.items.filter((item) => item.id !== action.cartId); // new array will  be generated here\r\n  //   } else {\r\n  //     // if  we have total items that is more than one, then, we can delete just part of it\r\n  //     const updatedItem = {\r\n  //       ...existingCartItem,\r\n  //       amount: existingCartItem.amount - 1,\r\n  //     };\r\n\r\n  //     updatedItems = [...prevState.items];\r\n  //     updatedItems[existingCartItemIndex] = updatedItem;\r\n  //   }\r\n  //   return {\r\n  //     items: updatedItems,\r\n  //     totalAmount: updatedTotalAmount,\r\n  //   };\r\n  // }\r\n\r\n  if (action.type === \"REMOVE_CART_ITEM\") {\r\n    const existingCartItemIndex = prevState.items.findIndex(\r\n      (item) => item.id === action.cartId\r\n    );\r\n\r\n    const existingCartItem = prevState.items[existingCartItemIndex];\r\n    const updatedTotalAmount = prevState.totalAmount - existingCartItem.price;\r\n\r\n    let updatedItems;\r\n    if (existingCartItem.amount === 1) {\r\n      //if the  remaining item in the cart is 1, we want to delete the whole cart of that type\r\n      updatedItems = prevState.items.filter(\r\n        (item) => item.id !== action.cartId\r\n      ); // new array will  be generated here\r\n    } else {\r\n      // if  we have total items that is more than one, then, we can delete just part of it\r\n\r\n      const updatedItem = {\r\n        ...existingCartItem,\r\n        amount:  existingCartItem.amount - 1,\r\n      };\r\n      //Now copy the old array immutatably to create a new array without changing or editing it\r\n      updatedItems = [...prevState.items];\r\n      updatedItems[existingCartItemIndex] = updatedItem;\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedTotalAmount,\r\n    };\r\n  }\r\n\r\n\r\n  if (action.type === \"CLEAR\") {\r\n    return defaultCartState;\r\n  }\r\n  return defaultCartState;\r\n};\r\n\r\nconst defaultCartState = {\r\n  items: [],\r\n  totalAmount: 0,\r\n};\r\n\r\nconst CartContextProvider = (props) => {\r\n  const [cartState, dispatchCartState] = useReducer(\r\n    cartReducer,\r\n    defaultCartState\r\n  );\r\n\r\n  const addItemHandler = (item) => {\r\n    dispatchCartState({ type: \"ADD_ITEM_CART\", addedItem: item });\r\n  };\r\n\r\n  const removeItemHandler = (id) => {\r\n    dispatchCartState({ type: \"REMOVE_CART_ITEM\", cartId: id });\r\n  };\r\n\r\n   const clearCartHandler = () =>{\r\n     dispatchCartState({type : \"CLEAR\"})\r\n   }\r\n\r\n  const contextValue = {\r\n    items: cartState.items,\r\n    totalAmount: cartState.totalAmount,\r\n    addItem: addItemHandler,\r\n    removeItem: removeItemHandler,\r\n    clearCart : clearCartHandler\r\n  };\r\n  return (\r\n    <CartContext.Provider value={contextValue}>\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartContextProvider;\r\n","import classes from \"./CartItem.module.css\";\r\n\r\nconst CartItem = (props) => {\r\n  const price = `#${props.price.toFixed(2)}`;\r\n\r\n\r\n\r\n  return (\r\n    <li className={classes[\"cart-item\"]}>\r\n      <div>\r\n        <h2>{props.name}</h2>\r\n        <div className={classes.summary}>\r\n          <span className={classes.price}>{price}</span>\r\n          <span className={classes.amount}>x {props.amount}</span>\r\n        </div>\r\n      </div>\r\n      <div className={classes.actions}>\r\n         <button onClick={props.onRemove}>-</button>\r\n        <button onClick={props.onAdd}>+</button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import { useRef, useState } from \"react\";\r\n\r\nimport classes from \"./Checkout.module.css\";\r\n\r\nconst isEmpty = (value) => value.trim() === \"\";\r\n\r\nconst isSixChars = (value) => value.trim().length === 6;\r\n\r\nconst Checkout = (props) => {\r\n  const [formInputsValidity, setFormInputsValidity] = useState({\r\n    name: true,\r\n    street: true,\r\n    postalCode: true,\r\n    city: true,\r\n  });\r\n\r\n  const nameInputRef = useRef();\r\n  const cityInputRef = useRef();\r\n  const postalCodeInputRef = useRef();\r\n\r\n  const streetInputRef = useRef();\r\n\r\n  let formIsValid;\r\n\r\n  const confirmHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    const enteredName = nameInputRef.current.value;\r\n    const enteredCity = cityInputRef.current.value;\r\n    const enteredPostalCode = postalCodeInputRef.current.value;\r\n    const enteredStreet = streetInputRef.current.value;\r\n\r\n    const enteredNameIsValid = !isEmpty(enteredName);\r\n    const enteredCityIsValid = !isEmpty(enteredCity);\r\n    const enteredStreetIsValid = !isEmpty(enteredStreet);\r\n    const enteredpostalCodeIsValid = isSixChars(enteredPostalCode);\r\n\r\n    setFormInputsValidity({\r\n      name: enteredNameIsValid,\r\n      city: enteredCityIsValid,\r\n      postalCode: enteredpostalCodeIsValid,\r\n      street: enteredStreetIsValid,\r\n    });\r\n\r\n    formIsValid =\r\n      enteredCityIsValid &&\r\n      enteredNameIsValid &&\r\n      enteredStreetIsValid &&\r\n      enteredpostalCodeIsValid;\r\n\r\n    if (!formIsValid) {\r\n      return;\r\n    }\r\n\r\n    props.onConfirm({\r\n      name: enteredName,\r\n      street: enteredStreet,\r\n      city: enteredCity,\r\n      postalCode: enteredPostalCode,\r\n    });\r\n  };\r\n\r\n  const nameControlClasses = `${classes.control} ${\r\n    formInputsValidity.name ? \"\" : classes.invalid\r\n  }`;\r\n  const cityControlClasses = `${classes.control} ${\r\n    formInputsValidity.city ? \"\" : classes.invalid\r\n  }`;\r\n  const postalCodeControlClasses = `${classes.control} ${\r\n    formInputsValidity.postalCode ? \"\" : classes.invalid\r\n  }`;\r\n  const streetControlClasses = `${classes.control} ${\r\n    formInputsValidity.street ? \"\" : classes.invalid\r\n  }`;\r\n  return (\r\n    <form className={classes.form} onSubmit={confirmHandler}>\r\n      <div className={nameControlClasses}>\r\n        <label htmlFor=\"name\">Your Name</label>\r\n        <input type=\"text\" id=\"name\" ref={nameInputRef} />\r\n      </div>\r\n      {!formInputsValidity.name && <p>Please enter a valid name!</p>}\r\n      <div className={cityControlClasses}>\r\n        <label htmlFor=\"city\">City</label>\r\n        <input type=\"text\" id=\"city\" ref={cityInputRef} />\r\n      </div>\r\n      {!formInputsValidity.city && <p>Please enter a valid city !</p>}\r\n      <div className={postalCodeControlClasses}>\r\n        <label htmlFor=\"postalCode\">Postal Code</label>\r\n        <input type=\"text\" id=\"postalCode\" ref={postalCodeInputRef} />\r\n      </div>\r\n      {!formInputsValidity.postalCode && (\r\n        <p>Please enter a valid Postal Code (1-6 character long!)</p>\r\n      )}\r\n      <div className={streetControlClasses}>\r\n        <label htmlFor=\"street\">Street</label>\r\n        <input type=\"text\" id=\"street\" ref={streetInputRef} />\r\n      </div>\r\n      {!formInputsValidity.street && <p>Please enter a valid street !</p>}\r\n      <div className={classes.actions}>\r\n        <button type=\"button\" onClick={props.onCancel}>Cancel</button>\r\n        <button\r\n          type=\"submit\"\r\n          className={classes.submit}\r\n          // disabled={!formIsValid}\r\n        >\r\n          Confirm\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n","import { useState, useContext, Fragment } from \"react\";\r\nimport Modal from \"../UI/Modal\";\r\nimport { CartContext } from \"../../store/CartContext\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport classes from \"./Cart.module.css\";\r\nimport CartItem from \"./CartItem\";\r\nimport Checkout from \"./Checkout\";\r\nconst Cart = (props) => {\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [isCheckout, setIsCheckout] = useState(false);\r\n  const [didSubmit, setDidSubit] = useState(false);\r\n\r\n  const cartCtx = useContext(CartContext);\r\n  const authCtx= useContext(AuthContext);\r\n\r\n  console.log(\"this is the Items array \" + JSON.stringify(cartCtx.items));\r\n\r\n  const totalAmount = `#${cartCtx.totalAmount.toFixed(2)}`;\r\n\r\n  const hasItems = cartCtx.items.length > 0;\r\n\r\n  const submitOrderHandler = async (userData) => {\r\n    setIsSubmitting(true);\r\n\r\n    await fetch(\r\n      \"https://my-react-https-default-rtdb.firebaseio.com/orders.json\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          user: userData,\r\n          orderItems: cartCtx.items,\r\n        }),\r\n      }\r\n    );\r\n    setIsSubmitting(false);\r\n    setDidSubit(true);\r\n    cartCtx.clearCart();\r\n  };\r\n\r\n  const orderHandler = () => {\r\n    setIsCheckout(true);\r\n  };\r\n  const cartItemAddHandler = (item) => {\r\n    cartCtx.addItem({ ...item, amount: 1 });\r\n  };\r\n\r\n  const removeItemHandler = (id) => {\r\n    cartCtx.removeItem(id);\r\n  };\r\n  const cartItems = (\r\n    <ul className={classes[\"cart-items\"]}>\r\n      {cartCtx.items.map((item) => (\r\n        <CartItem\r\n          key={item.id}\r\n          name={item.name}\r\n          price={item.price}\r\n          amount={item.amount}\r\n          onAdd={cartItemAddHandler.bind(null, item)}\r\n          onRemove={removeItemHandler.bind(null, item.id)}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n\r\n  const modalActions = (\r\n    <div className={classes.actions}>\r\n      <button className={classes[\"button--alt\"]} onClick={props.onClose}>\r\n        Close\r\n      </button>\r\n      {hasItems && (\r\n        <button className={classes.button} onClick={orderHandler}>\r\n          Order\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n  const cartModalContent = (\r\n    <Fragment>\r\n      {cartItems}\r\n      <div className={classes.total}>\r\n        <span>Total Amount</span>\r\n        <span>{totalAmount}</span>\r\n      </div>\r\n      {authCtx.isLoggedIn && isCheckout && (\r\n        <Checkout onCancel={props.onClose} onConfirm={submitOrderHandler} />\r\n      )}\r\n      {authCtx.isLoggedIn && !isCheckout && modalActions}\r\n    </Fragment>\r\n  );\r\n\r\n  const isSubmittingOrderContent = <p>Sending Order Data ...</p>;\r\n  const didSubmitOrderContent = (\r\n    <Fragment>\r\n      <p>Successfully Sent the Order !</p>\r\n      <div className={classes.actions}>\r\n        <button onClick={props.onClose} className={classes.button}>\r\n          Close\r\n        </button>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n  return (\r\n    <Modal onClose={props.onClose}>\r\n      {authCtx.isLoggedIn && !isSubmitting && !didSubmit && cartModalContent}\r\n      {authCtx.isLoggedIn && isSubmitting && isSubmittingOrderContent}\r\n      {authCtx.isLoggedIn && !isSubmitting && didSubmit && didSubmitOrderContent}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import Cart from \"../components/Cart/Cart\";\r\nconst CartPage = (props) => {\r\n  return <Cart onClose={props.onClose} />;\r\n};\r\n\r\nexport default CartPage;\r\n","import React from \"react\";\r\nimport classes from \"./MealSummary.module.css\";\r\nconst MealSummary = () => {\r\n  return (\r\n    <section className={classes.summary}>\r\n      <h2>Delicious Food, Delivered To You</h2>\r\n      <p>\r\n        Choose your favorite meal from our broad selection of available meals\r\n        and enjoy a delicious lunch or dinner at home.\r\n      </p>\r\n      <p>\r\n        All our meals are cooked with high-quality ingredients, just-in-time and\r\n        of course by experienced chefs!\r\n      </p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default MealSummary;\r\n","import React from \"react\";\r\nimport classes from \"./Input.module.css\";\r\nconst Input = React.forwardRef((props,ref) => {\r\n    return (\r\n      <div className={classes.input}>\r\n        <label htmlFor={props.input.id}>{props.label}</label>\r\n        <input ref={ref} {...props.input} />\r\n      </div>\r\n    );\r\n});\r\nexport default Input;\r\n\r\n\r\n","import React, { useState, useRef } from \"react\";\r\nimport Input from \"../../UI/Input\";\r\nimport classes from \"./MealItemForm.module.css\";\r\n\r\nconst MealItemForm = (props) => {\r\n  const [amountIsValid, setAmountIsValid] = useState(true);\r\n\r\n  const amountInputRef = useRef();\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    const enteredAmount = amountInputRef.current.value;\r\n\r\n    const enteredNumberAmount = +enteredAmount;\r\n\r\n    if (\r\n      enteredAmount.trim().length === 0 ||\r\n      enteredNumberAmount < 1 ||\r\n      enteredNumberAmount > 5\r\n    ) {\r\n      setAmountIsValid(false);\r\n      return;\r\n    }\r\n    props.onAddToCard(enteredNumberAmount);\r\n  };\r\n\r\n  const input = {\r\n    id :\"amount__\" + props.id,\r\n    type: \"number\",\r\n    min: \"1\",\r\n    max: \"5\",\r\n    defaultValue: \"1\",\r\n  };\r\n\r\n  return (\r\n    <form className={classes.form} onSubmit={submitHandler}>\r\n      <Input ref={amountInputRef} label=\"Amount\" input={input} />\r\n      <button>+ Add</button>\r\n      {!amountIsValid && <p>Please enter a valid amount( 1-5) </p>}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default MealItemForm;\r\n","import React, { useContext } from \"react\";\r\nimport classes from \"./MealsItem.module.css\";\r\nimport MealItemForm from \"./MealItemForm\";\r\nimport { CartContext } from \"../../../store/CartContext\";\r\n\r\nconst MealsItem = (props) => {\r\n  const cartContext = useContext(CartContext);\r\n\r\n  const addToCartHandler = (amount) => {\r\n    cartContext.addItem({\r\n      id: props.id,\r\n      name: props.name,\r\n      price: props.price,\r\n      amount: amount,\r\n    });\r\n  };\r\n  return (\r\n    <li className={classes.meal}>\r\n      <div>\r\n        <h3>{props.name}</h3>\r\n        <div className={classes.description}>{props.description}</div>\r\n        <div className={classes.price}>{`#${props.price.toFixed(2)}`}</div>\r\n      </div>\r\n      <div>\r\n        <MealItemForm id={props.id} onAddToCard={addToCartHandler} />\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default MealsItem;\r\n","import classes from \"./Card.module.css\";\r\n\r\nconst Card = (props) => <div className={classes.card}>{props.children}</div>;\r\n\r\nexport default Card;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport MealsItem from \"./MealItems/MealsItem\";\r\nimport classes from \"./AvailableMeals.module.css\";\r\nimport Card from \"../UI/Card\";\r\nconst AvailableMeals = (props) => {\r\n  const [meals, setMeals] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [httpError, setHttpError] = useState();\r\n\r\n  useEffect(() => {\r\n    const fetchMeals = async () => {\r\n      const response = await fetch(\r\n        \"https://my-react-https-default-rtdb.firebaseio.com/meals.json\"\r\n      );\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Something went wrong!\");\r\n      }\r\n\r\n      const responseData = await response.json();\r\n\r\n      const loadedData = [];\r\n      for (const key in responseData) {\r\n        loadedData.push({\r\n          id: key,\r\n          name: responseData[key].name,\r\n          description: responseData[key].description,\r\n          price: responseData[key].price,\r\n        });\r\n      }\r\n      setMeals(loadedData);\r\n      setIsLoading(false);\r\n    };\r\n\r\n    fetchMeals().catch((error) => {\r\n      setIsLoading(false);\r\n      console.log(\"This is the error \" + error.message);\r\n      setHttpError(error.message);\r\n    });\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    <section className={classes.mealIsLoading}>\r\n      <p> Loading ...</p>\r\n    </section>;\r\n  }\r\n  if (httpError) {\r\n    <section className={classes.MealsError}>\r\n      <p>{httpError}</p>\r\n    </section>;\r\n  }\r\n\r\n  const mealList = meals.map((meal) => {\r\n    return (\r\n      <MealsItem\r\n       id={meal.id}\r\n        key={meal.id}\r\n        name={meal.name}\r\n        description={meal.description}\r\n        price={meal.price}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <section className={classes.meals}>\r\n      <ul>\r\n        <Card>{mealList}</Card>\r\n      </ul>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AvailableMeals;\r\n","\r\nimport React from \"react\";\r\nimport MealSummary from \"./MealSummary\";\r\nimport AvailableMeals from \"./AvailableMeals\";\r\n\r\n const Meals =() =>{\r\n     return <React.Fragment>\r\n         <MealSummary />\r\n         <AvailableMeals />\r\n     </React.Fragment>\r\n }\r\n\r\n  export default Meals;","import Meals from \"../components/Meals/Meals\";\r\n\r\nconst MealPage = () => {\r\n  return <Meals />;\r\n};\r\n\r\nexport default MealPage;\r\n","   \r\nconst CartIcon = () => {\r\n    return (\r\n      <svg\r\n        xmlns='http://www.w3.org/2000/svg'\r\n        viewBox='0 0 20 20'\r\n        fill='currentColor'\r\n      >\r\n        <path d='M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z' />\r\n      </svg>\r\n    );\r\n  };\r\n  \r\n  export default CartIcon;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport classes from \"./HeaderCartButton.module.css\";\r\nimport CartIcon from \"../Cart/CartIcon\";\r\nimport { CartContext } from \"../../store/CartContext\";\r\nimport AuthContext from \"../../store/auth-context\";\r\n\r\nconst HeaderCartButton = (props) => {\r\n  const [btnIsHighlighted, setBtnIsHighlighted] = useState(false);\r\n\r\n  /***\r\n   *\r\n   * The reduce method\r\n   * reduces the array to a single value from left to right.\r\n   * This method leaves the original array unchanged.\r\n   */\r\n\r\n  //I only need the bump of the cart to be highlighted when user added the item\r\n\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const { items } = cartCtx;\r\n\r\n  const authCtx = useContext(AuthContext);\r\n  const isLoggedIn = authCtx.isLoggedIn;\r\n\r\n  const numberOfCartItems = items.reduce((initialAmount, item) => {\r\n    return initialAmount + item.amount;\r\n  }, 0);\r\n\r\n  const btnClasses = `${classes.button} ${\r\n    btnIsHighlighted ? classes.bump : \"\"\r\n  }`;\r\n\r\n  useEffect(() => {\r\n    if (items.length === 0) {\r\n      return;\r\n    }\r\n    setBtnIsHighlighted(true);\r\n\r\n    const timer = setTimeout(() => {\r\n      setBtnIsHighlighted(false);\r\n    }, 300);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [items]);\r\n\r\n  const buttonCart = (\r\n    <button className={btnClasses} onClick={props.onClick}>\r\n      <span className={classes.icon}>\r\n        <CartIcon />\r\n      </span>\r\n      <span>Your Cart</span>\r\n      <span className={classes.badge}>{numberOfCartItems}</span>\r\n    </button>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.header}>\r\n     <li>\r\n     {isLoggedIn && <Link to=\"/cart\">{buttonCart}</Link>}\r\n     </li>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeaderCartButton;\r\n","export default __webpack_public_path__ + \"static/media/meals.2971f633.jpg\";","import { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport classes from \"./NavBar.module.css\";\r\nconst NavBar = () => {\r\n  const authCtx = useContext(AuthContext);\r\n  const isLoggedIn = authCtx.isLoggedIn;\r\n\r\n  return (\r\n    <div className={classes.header}>\r\n      <nav>\r\n        <ul>\r\n          {isLoggedIn && (\r\n            <li>\r\n              <Link to=\"/meal\">Available Meals</Link>\r\n            </li>\r\n          )}\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport classes from \"./AuthLogin.module.css\";\r\nconst AuthLogin = () => {\r\n  const authCtx = useContext(AuthContext);\r\n  return (\r\n    <div className={classes.header}>\r\n      {!authCtx.isLoggedIn && (\r\n        <li>\r\n          <Link to=\"/auth\">Login</Link>\r\n        </li>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthLogin;\r\n","import { useContext } from \"react\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport classes from \"./AuthLogout.module.css\";\r\nconst AuthLogout = () => {\r\n  const authCtx = useContext(AuthContext);\r\n    const logoutHandler = () => {\r\n    authCtx.logout();\r\n  };\r\n  return (\r\n    <div className={classes.header}>\r\n      {authCtx.isLoggedIn && (\r\n        <li>\r\n          <button onClick={logoutHandler}>Logout</button>\r\n        </li>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthLogout;\r\n","import React, { useContext } from \"react\";\r\n// import { Link } from \"react-router-dom\";\r\nimport HeaderCartButton from \"./HeaderCartButton\";\r\nimport classes from \"./Header.module.css\";\r\nimport mealsImage from \"../../images/meals.jpg\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport NavBar from \"./NavBar\";\r\nimport AuthLogin from \"./AuthLogin\";\r\nimport AuthLogout from \"./AuthLogout\";\r\n\r\n//import MainNavigation from \"./MainNavigation\";\r\nconst Header = (props) => {\r\n  const authCtx = useContext(AuthContext);\r\n  const isLoggedIn = authCtx.isLoggedIn;\r\n  return (\r\n    <React.Fragment>\r\n      <header className={classes.header}>\r\n        <h1>App Logo</h1>\r\n        {!isLoggedIn && <AuthLogin />}\r\n        {isLoggedIn && <NavBar />}\r\n        {isLoggedIn && <HeaderCartButton onClick={props.showCart} />}\r\n        {isLoggedIn && <AuthLogout />}\r\n      </header>\r\n       {isLoggedIn && (\r\n      <div className={classes[\"main-image\"]}>\r\n        <img src={mealsImage} alt=\"A table full of delicious food!\" />\r\n      </div>\r\n     )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { Link } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\n\r\n// import HeaderPage from \"../../Pages/HeaderPage\";\r\n\r\nimport classes from \"./MainNavigation.module.css\";\r\nconst MainNavigation = (props) => {\r\n  return (\r\n    <header className={classes.header}>\r\n      <Link to=\"/\">\r\n        <Header showCart={props.showCart} />\r\n      </Link>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default MainNavigation;\r\n","import { Fragment } from \"react\";\r\nimport MainNavigation from \"./MainNavigation\";\r\n\r\nconst Layout = (props) => {\r\n  return (\r\n    <Fragment>\r\n        <MainNavigation showCart={props.showCart}/>\r\n      <main>{props.children}</main>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import { useContext} from \"react\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport classes from \"./StartingPage.module.css\";\r\n\r\nconst StartingPage = () => {\r\n  const authCtx = useContext(AuthContext);\r\n\r\n  const isLoggedIn = authCtx.isLoggedIn;\r\n  return (\r\n    <section className={classes.starting}>\r\n      {!isLoggedIn && (<h1>Welcome to Adejoke Food Canteen </h1>)}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default StartingPage;\r\n","import StartingPageContent from \"../components/StartingPage/StartingPage\";\r\n\r\nconst HomePage = () => {\r\n  return <StartingPageContent />;\r\n};\r\n\r\nexport default HomePage;\r\n","import { useState } from \"react\";\r\n\r\nconst useAuthForm = (validateValue) => {\r\n  const [enteredvalue, setEnteredValue] = useState(\"\");\r\n\r\n  const [isTouched, setIsTouched] = useState(false);\r\n\r\n  const enteredValueIsValid = validateValue(enteredvalue);\r\n\r\n  const hasError = !enteredValueIsValid && isTouched;\r\n\r\n  const valueChangeHandler = (event) => {\r\n    setEnteredValue(event.target.value);\r\n    setIsTouched(true);\r\n  };\r\n\r\n  const onBlurChangeHandler = () => {\r\n    setIsTouched(true);\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setEnteredValue(\"\");\r\n    setIsTouched(false);\r\n  };\r\n\r\n  return {\r\n    value: enteredvalue,\r\n    isValid: enteredValueIsValid,\r\n    hasError: hasError,\r\n    resetForm: resetForm,\r\n    valueChangeHandler,\r\n    onBlurChangeHandler,\r\n  };\r\n};\r\n\r\nexport default useAuthForm;\r\n","import classes from \"./Button.module.css\";\r\n\r\nconst Button = (props) => {\r\n  return (\r\n    <button\r\n      className={classes.button}\r\n      onClick={props.onClick}\r\n      type={props.type || \"button\"}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport Button from \"./Button\";\r\nimport Card from \"./Card\";\r\n\r\nimport classes from \"./ErrorModal.module.css\";\r\n\r\nconst ErrorModal = (props) => {\r\n  return (\r\n    <React.Fragment>\r\n      <div className={classes.backdrop} onClick={props.removeError}></div>\r\n      <Card className={classes.modal}>\r\n        <div className={classes.content}>\r\n          <p>{props.message}</p>\r\n        </div>\r\n        <footer className={classes.actions}>\r\n          <Button onClick={props.removeError}>Ok</Button>\r\n        </footer>\r\n      </Card>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ErrorModal;\r\n","import React from \"react\";\r\nimport Button from \"./Button\";\r\nimport Card from \"./Card\";\r\n\r\nimport classes from \"./SuccessFulModal.module.css\";\r\n\r\nconst SuccessFulModal = (props) => {\r\n  return (\r\n    <React.Fragment>\r\n      <div className={classes.backdrop} onClick={props.removeMessage}></div>\r\n      <Card className={classes.modal}>\r\n        <div className={classes.content}>\r\n          <p>{props.message}</p>\r\n        </div>\r\n        <footer className={classes.actions}>\r\n          <Button onClick={props.removeMessage}>Ok</Button>\r\n        </footer>\r\n      </Card>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SuccessFulModal;\r\n","import React, { useState } from \"react\";\r\nimport useAuthForm from \"../../hooks/useAuthForm\";\r\nimport ErrorModal from \"../UI/ErrorModal\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport SuccessFulModal from \"../UI/SuccessFulModal\";\r\nimport { Link }  from \"react-router-dom\";\r\n\r\nconst Auth = () => {\r\n  const authCtx = useContext(AuthContext);\r\n  const history = useHistory();\r\n  const {\r\n    value: enteredEmail,\r\n    isValid: enteredEmailIsValid,\r\n    hasError: emailHasError,\r\n    resetForm: resetEmailForm,\r\n    valueChangeHandler: emailChangeHandler,\r\n    onBlurChangeHandler: emailOnBlurHandler,\r\n  } = useAuthForm((value) => value.trim().includes(\"@\"));\r\n\r\n  const {\r\n    value: enteredPassword,\r\n    isValid: enteredPasswordIsValid,\r\n    hasError: passwordHasError,\r\n    resetForm: resetPasswordForm,\r\n    valueChangeHandler: passwordChangeHandler,\r\n    onBlurChangeHandler: passwordOnBlurHandler,\r\n  } = useAuthForm((value) => value.trim() !== \"\");\r\n\r\n  const [error, setError] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [isLogin, setIsLogin] = useState(true);\r\n\r\n  const switchToggleHandler = () => {\r\n    setIsLogin((prevState) => !prevState);\r\n  };\r\n\r\n  let formIsValid = false;\r\n\r\n  if (enteredEmailIsValid && enteredPasswordIsValid) {\r\n    formIsValid = true;\r\n  }\r\n\r\n  const submitFormHandler = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!formIsValid) {\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    let url;\r\n\r\n    if (isLogin) {\r\n      url =\r\n        \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyD-pVzNEVIiUhXh88mhQW2crYl5yX-uecw\";\r\n    } else {\r\n      url =\r\n        \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyD-pVzNEVIiUhXh88mhQW2crYl5yX-uecw\";\r\n    }\r\n\r\n    try {\r\n      console.log(\"AUTH COMPONENT!!!\");\r\n      const response = await fetch(url, {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          email: enteredEmail,\r\n          password: enteredPassword,\r\n          returnSecureToken: true,\r\n        }),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Something Went Wrong!!!\");\r\n      }\r\n      const data = await response.json();\r\n      console.log(data);\r\n      const expirationTime = new Date(\r\n        new Date().getTime() + +data.expiresIn * 1000\r\n      );\r\n      console.log(expirationTime);\r\n\r\n      if (isLogin) {\r\n        authCtx.login(data.idToken, expirationTime.toISOString());\r\n        history.push(\"/\");\r\n      }\r\n      //  history.replace(\"/auth\");\r\n      //alert(\"Successfully sign you up!\");\r\n      setMessage(\"Account Created, Proceed to Login!\");\r\n      history.push(\"/auth\");\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n\r\n    setIsLoading(false);\r\n\r\n    resetEmailForm();\r\n    resetPasswordForm();\r\n  };\r\n\r\n  const emailClasses = emailHasError ? \"form-control invalid\" : \"form-control\";\r\n  const passwordClasses = passwordHasError\r\n    ? \"form-control invalid\"\r\n    : \"form-control\";\r\n\r\n  const removeErrorHandler = () => {\r\n    setError(null);\r\n  };\r\n\r\n  const removeMessageHandler = () => {\r\n    setMessage(null);\r\n  };\r\n  return (\r\n    <section className=\"auth\">\r\n      <h1> {isLogin ? \"Login\" : \"Sign Up\"}</h1>\r\n      <form onSubmit={submitFormHandler}>\r\n        <div className={emailClasses}>\r\n          <label htmlFor=\"email\">Your Email</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            value={enteredEmail}\r\n            onChange={emailChangeHandler}\r\n            onBlur={emailOnBlurHandler}\r\n          />\r\n        </div>\r\n        {emailHasError && (\r\n          <p className=\"error-text\">Please enter a valid email Address</p>\r\n        )}\r\n        <div className={passwordClasses}>\r\n          <label htmlFor=\"Password\">Your Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={enteredPassword}\r\n            onChange={passwordChangeHandler}\r\n            onBlur={passwordOnBlurHandler}\r\n          />\r\n        </div>\r\n        {passwordHasError && (\r\n          <p className=\"error-text\">Please enter a valid Password</p>\r\n        )}\r\n        <div className=\"actions\">\r\n          {!isLoading && (\r\n            <button disabled={!formIsValid}>\r\n              {isLogin ? \"Login\" : \"Create Account\"}\r\n            </button>\r\n          )}\r\n          {isLoading && <p>Sending Request ...</p>}\r\n          {!isLoading && message && (\r\n            <SuccessFulModal\r\n              message={message}\r\n              removeMessage={removeMessageHandler}\r\n            />\r\n          )}\r\n          {!isLoading && error && (\r\n            <ErrorModal message={error} removeError={removeErrorHandler} />\r\n          )}\r\n          <button\r\n            className=\"toggle\"\r\n            type=\"button\"\r\n            onClick={switchToggleHandler}\r\n          >\r\n            {isLogin ? \"Create New Account\" : \"Login With An Existing Account\"}\r\n            <div div className=\"actions\">\r\n            <Link  to=\"/profile\" className=\"toggle\">Forgot Password?</Link>\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    \r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import Auth from \"../components/Auth/Auth\";\r\n\r\nconst AuthPage = (props) => {\r\n  return <Auth onClose={props.onClose}/>;\r\n};\r\n\r\nexport default AuthPage;\r\n","import { useRef} from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport classes from \"./ProfileForm.module.css\";\r\nimport Button from \"../UI/Button\";\r\n\r\n\r\nconst ProfileForm = () => {\r\n \r\n  const newEmailInputRef = useRef();\r\n\r\n  const PASSWORD_RESET =\"AIzaSyD-pVzNEVIiUhXh88mhQW2crYl5yX111\";\r\n\r\n  const history = useHistory();\r\n\r\n  const submitFormHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    const newEnteredEmail = newEmailInputRef.current.value;\r\n    const data = {\r\n      requestType: PASSWORD_RESET,\r\n      password: newEnteredEmail,\r\n   \r\n    };\r\n\r\n    const url = \"https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=AIzaSyD-pVzNEVIiUhXh88mhQW2crYl5yX-uecw\";\r\n\r\n    fetch(url, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n       console.log(\"This  is the response  \" + JSON.stringify(res))\r\n      history.push(\"/\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <form className={classes.form} onSubmit={submitFormHandler}>\r\n      <div className={classes.control}>\r\n        <label htmlFor=\"email\">Your Email</label>\r\n        <input\r\n          type=\"email\"\r\n          id=\"email\"\r\n          ref={newEmailInputRef}\r\n          required\r\n        />\r\n      </div>\r\n      <div className={classes.actions}>\r\n        <Button type=\"submit\">Reset Password</Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ProfileForm;\r\n","import ProfileForm from \"./ProfileForm\";\r\nimport classes from \"./Userprofile.module.css\";\r\n\r\nconst UserProfile = () => {\r\n  return (\r\n    <section className={classes.profile}>\r\n      <h1>Reset Password</h1>\r\n      <ProfileForm />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","\r\nimport UserProfile from \"../components/Profile/Userprofile\";\r\n\r\n const ProfilePage = () =>{\r\n   return <UserProfile />\r\n }\r\n\r\n\r\n  export default ProfilePage;","import React, { useState, useContext } from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport CartPage from \"./Pages/CartPage\";\nimport MealPage from \"./Pages/MealPage\";\nimport CartContextProvider from \"./store/CartContext\";\nimport Layout from \"./components/Layout/Layout\";\nimport HomePage from \"./Pages/HomePage\";\nimport AuthContext from \"./store/auth-context\";\nimport AuthPage from \"./Pages/AuthPage\";\nimport ProfilePage from \"./Pages/ProfilePage\";\n\nfunction App() {\n  const [cartIsShown, setCartIsShown] = useState(false);\n\n  const authCtx = useContext(AuthContext);\n\n  const showCartHandler = () => {\n    setCartIsShown(true);\n  };\n\n  const hideCartHnadler = () => {\n    setCartIsShown(false);\n  };\n  return (\n    <CartContextProvider>\n      <Layout showCart={showCartHandler}>\n        <Switch>\n          <Route path=\"/\" exact>\n            <HomePage />\n          </Route>\n          {!authCtx.isLoggedIn && (\n            <Route path=\"/auth\">\n              <AuthPage onClose={hideCartHnadler}/>\n            </Route>\n          )}\n          {!authCtx.isLoggedIn && (\n            <Route path=\"/profile\">\n              <ProfilePage />\n            </Route>\n          )}\n          {authCtx.isLoggedIn && cartIsShown && (\n            <Route path=\"/cart\">\n              <CartPage onClose={hideCartHnadler} />\n            </Route>\n          )}\n          {authCtx.isLoggedIn && (\n            <Route path=\"/meal\">\n              <MealPage />\n            </Route>\n          )}\n          <Route path=\"*\">\n            <Redirect to=\"/\" />\n          </Route>\n        </Switch>\n      </Layout>\n    </CartContextProvider>\n  );\n}\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { AuthContextProvider } from \"./store/auth-context\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <AuthContextProvider>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </AuthContextProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}